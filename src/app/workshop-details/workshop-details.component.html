<navi-bar></navi-bar>

<div class="header-img">
    <img class="detail-img" [src]="this.workshopRepository.globalConstants.resolveImageUrl(workshopDetails.imageLink)" alt="workshop image"
    />
</div>

<div class="wsd-name">{{workshopDetails.name}}</div>

<div class="details-container">
    <div>
        <div class="detail-tabs">

            <!--Tab headings-->
            <div class="tab">
                <button class="tablinks" *ngFor="let tab of tabs; let i=index;" [ngClass]="{'active': tab.showTab}" (click)="openTabs(i)">{{tab.label}}</button>
            </div>

            <!--Description tab-->
            <div id="{{tabs[0].label}}" [hidden]="!tabs[0].showTab" class="tabcontent">
                <h3>{{tabs[0].label}}</h3>
                <p [innerHTML]="workshopDetails.description"></p>
            </div>

            <!--Itinierary tab-->
            <!--<div id="{{tabs[1].label}}" [hidden]="!tabs[1].showTab" class="tabcontent">
                <h3>{{tabs[1].label}}</h3>
                <div class="day-wrapper" *ngFor="let data of workshopDetails.itinerary;">
                    <h5>
                        <span>Day {{data.day}} - </span>
                        <span class="location">{{data.location}}</span>
                    </h5>
                    <p [innerHTML]="data.content"></p>
                </div>
            </div>-->

            <!--Gallery tab-->
            <div id="{{tabs[1].label}}" [hidden]="!tabs[1].showTab" class="tabcontent">
                <h3>{{tabs[1].label}}</h3>
                <img class="gallery-image hover-shadow cursor" *ngFor="let image of imagesLink;let i = index" [src]="image.imageLink" alt="workshop image"
                    (click)="openModal(i+1)" />
            </div>

            <!--Photographer tab-->
            <div id="{{tabs[2].label}}" [hidden]="!tabs[2].showTab" class="tabcontent">
                <h3>{{tabs[2].label}}</h3>
                <div class="photographer-information" *ngFor="let photographer of workshopDetails.photographers;">
                    <div class="profile-photo">
                        <img class="profile-img" [src]="this.workshopRepository.globalConstants.resolveImageUrl(photographer.profilePhotoLink)" alt="workshop image"
                        />
                    </div>
                    <h4>
                        <span>{{photographer.firstName}}</span>
                        <span>{{photographer.lastName}}</span>
                    </h4>
                    <div class="detail-location">
                        <i class="fa fa-map-marker" aria-hidden="true"></i>
                        <span>{{this.workshopRepository.globalConstants.getLocationByLocationId(photographer.locationId)?.name}}</span>
                    </div>
                    <div class="website-link">
                        <a href="{{photographer?.websiteLink}}" target="_blank"><i class="fa fa-external-link"></i> Website</a>
                    </div>
                    <p [innerHTML]="photographer.moreInformation"></p>
                </div>
            </div>
        </div>

        <!--Workshop highlights-->
        <div class="highlights">
            <div class="wsd-link">
                <h4 class="highlight-headings">Workshop Link</h4>
                <a href="{{workshopDetails.link}}" target="_blank"><i class="fa fa-link"></i> Workshop link
        </a>
            </div>
            <div class="wsd-location">
                <h4 class="highlight-headings">Location</h4>
                <i class="fa fa-map-marker"></i>
                <span>{{this.workshopRepository.globalConstants.getLocationByLocationId(workshopDetails.locationId)?.name}}</span>
            </div>
            <div class="wsd-price">
                <h4 class="highlight-headings">Price Range</h4>
                <i class="fa fa-usd"></i> <span *ngIf="workshopDetails.minCost !== workshopDetails.maxCost">{{workshopDetails.minCost}} - </span>{{workshopDetails.maxCost}}
            </div>
            <div class="wsd-dates">
                <h4 class="highlight-headings">Dates</h4>
                <div class="dates-information" *ngFor="let detail of workshopDetails.multiWorkshopDetails;">
                    <div>
                        <i class="fa fa-calendar"></i>
                        <span>{{this.formatDate(detail.startDate)}} - {{this.formatDate(detail.endDate)}}</span>
                    </div>
                </div>
            </div>
        </div>

        <!--Image gallery modal-->
        <div id="myModal" [ngClass]="{'hide-modal': hideModal}" class="image-modal">
            <span class="close cursor" (click)="closeModal()">&times;</span>
            <div class="image-modal-content">

                <div *ngFor="let image of imagesLink;let i = index" class="slides" [ngClass]="{'hideImage': image.hideImage}">
                    <img [src]="image.imageLink" class="modal-image">
                </div>
            </div>

            <a class="prev" (click)="plusSlides(-1)">&#10094;</a>
            <a class="next" (click)="plusSlides(1)">&#10095;</a>
        </div>
    </div>
    <div>
        <div class="footer">
            <footer></footer>
        </div>
    </div>
</div>